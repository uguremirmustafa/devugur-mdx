---
title: CMS kullanarak NextJS ile Fullstack Blog/Portfolio Sitesi
summary: Ä°Ã§erik yÃ¶netim sistemleri(CMS) mÃ¼ÅŸterimizin site Ã¼zerinde siz yazÄ±lÄ±mcÄ±nÄ±n yardÄ±mÄ± olmadan iÃ§erik dÃ¼zenlemesi, ekleyip Ã§Ä±karmasÄ± iÃ§in mÃ¼kemmel araÃ§lar olarak karÅŸÄ±mÄ±zÄ±za Ã§Ä±kÄ±yor. Bu projede JAMStack felsefesi ile yaratÄ±lmÄ±ÅŸ bir blog ve indirilebilir iÃ§erik koleksiyonu gÃ¶receksiniz. Ä°ndirilebilir iÃ§eriklere eriÅŸim ise Auth0 yardÄ±mÄ± ile giriÅŸ yapmamÄ±ÅŸ olan kullanÄ±cÄ±lara sÄ±nÄ±rlandÄ±rÄ±lmÄ±ÅŸtÄ±r. Client tarafÄ±nda ise NextJS kullanÄ±lmÄ±ÅŸ ve SEO iÃ§in optimize edilmiÅŸtir.
publishedAt: '2021-10-02'
images:
  [
    '/images/portfolio/sanity-ve-nextjs-blog-portfolio/home.png',
    '/images/portfolio/sanity-ve-nextjs-blog-portfolio/jam.png',
  ]
techStack: ['NextJS', 'Sanity', 'Auth0', 'SASS']
tags: ['nextjs', 'sanity.io', 'auth0', 'jamstack', 'sass/css', 'blog', 'portfolio']
locale: tr
alternate: ''
type: project
isPublished: false
selected: false
github: https://github.com/uguremirmustafa/prepokul-next
demo: https://prepokul.com
---

![prepkul anasayfa](./home.png)

## 1. KullandÄ±ÄŸÄ±m AraÃ§lar/YÃ¶ntemler ve Tercih Nedenlerim

### JAMStack

Wordpress ile alÄ±ÅŸmÄ±ÅŸ olduÄŸumuz all-in-one ya da monolithic sistemlerin tersine JAMStack felsefesi bize kullanacaÄŸÄ±mÄ±z servislerde esneklik ve Ã¼st dÃ¼zey optimizasyon olanaÄŸÄ± sunuyor.

JAMStack(Javascript, API ve Markup) ile Ã§alÄ±ÅŸmanÄ±n verdiÄŸi avantajlarÄ±n baÅŸÄ±nda ise gÃ¼venlik geliyor. Sitenin hareketli parÃ§alarÄ± bir API aracÄ±lÄ±ÄŸÄ±yla geliÅŸtiriciye ulaÅŸtÄ±ÄŸÄ± iÃ§in arka plandaki servislerin nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ± ya da muhtemel gÃ¼venlik sorunlarÄ±nÄ±n neler olduÄŸu ile uÄŸraÅŸmÄ±yor. Bu avantajÄ± projede Auth0 kullanÄ±rken canlÄ± kanlÄ± yaÅŸadÄ±m. BirkaÃ§ satÄ±r kod ile tÃ¼m authentication sÃ¼recini halledebildim.

Projenin scale olmasÄ± durumunda da gayet baÅŸarÄ±lÄ± Ã§alÄ±ÅŸan JAMStack felsefesi, proje CDN'de yaÅŸadÄ±ÄŸÄ± iÃ§in cache gibi karmaÅŸÄ±k ve Ã§etrefilli iÅŸler ile uÄŸraÅŸmadan bizlere gayet yÃ¼ksek bir performans sunuyor. BugÃ¼n 50 blog postunun olduÄŸu sitede yarÄ±n 10000 tane blog olsa dahi aynÄ± performansÄ± elde edeceÄŸini bilmenin rahatlÄ±ÄŸÄ± gerÃ§ekten huzur verici.

### NextJS

Statik web siteleri React ekosisteminde GatsbyJS ile popÃ¼lerlik kazanmÄ±ÅŸtÄ± ancak son bir iki yÄ±lda NextJS geliÅŸtirici deneyimini zirveye Ã§Ä±kartan hamleleri ile gÃ¶nÃ¼llerimizde ayrÄ± bir yere sahip olmayÄ± baÅŸarÄ±yor.

```jsx
export async function getStaticProps(context) {
  const data = await client.fetch(allPostsUnderCategory, { slug: context.params.slug });

  return {
    props: {
      data,
    },
  };
}

export async function getStaticPaths() {
  const slugs = await client.fetch(allPostPaths);

  const paths = await slugs.map((slug) => ({ params: slug }));
  return {
    paths,
    fallback: true,
  };
}
```

_getStaticPaths_ ve _getStaticProps_ fonksiyonlarÄ± ile bÃ¼tÃ¼n blog postlarÄ±nÄ± build-time'da yaratma imkanÄ± sunan NextJS, Ä±ÅŸÄ±k hÄ±zÄ±nda yÃ¼klenen sayfalar ile hem son kullanÄ±cÄ±yÄ± hem de biz geliÅŸtiricileri mutlu ediyor.

![build](./build.png)

### Sanity.io - CMS

Piyasada birÃ§ok CMS bulabilmek mÃ¼mkÃ¼n. Benim Sanity'i tercih etmemdeki en Ã¶nemli faktÃ¶r ise arayÃ¼zde saÄŸa sola tÄ±klamaya gerek kalmadan veri yapÄ±larÄ±nÄ±(schemas) Sanity projesinin iÃ§inde basit bir JS dosyasÄ± ÅŸeklinde oluÅŸturabilmem.

```js
export default {
  name: 'author',
  title: 'Yazar',
  type: 'document',
  fields: [
    {
      name: 'name',
      title: 'Name',
      type: 'string',
    },
    {
      name: 'slug',
      title: 'Slug',
      type: 'slug',
      options: {
        source: 'name',
        maxLength: 96,
      },
    },
    {
      name: 'image',
      title: 'Image',
      type: 'image',
      options: {
        hotspot: true,
      },
    },
    {
      name: 'bio',
      title: 'Bio',
      type: 'array',
      of: [
        {
          title: 'Block',
          type: 'block',
          styles: [{ title: 'Normal', value: 'normal' }],
          lists: [],
        },
      ],
    },
  ],
};
```

Burada gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z author ÅŸemasÄ± bize sorgu yaptÄ±ÄŸÄ±mÄ±zda ÅŸÃ¶yle bir sonuÃ§ veriyor.

```js
  {
    "_id":"7ca4b38e-4fase-45b6-a0d0-7b288273f473"
    "image":{
      "_type":"image"
      "asset":{...}
      "crop":{...}
      "hotspot":{...}
    }
    "name":"Feyza Nur Emirmustafa"
    "slug":{
      "_type":"slug"
      "current":"feyza-nur-emirmustafa"
    }
    "bio":{...}
  }
```

Sorgu yapmak iÃ§in ise kullanÄ±mÄ± gayet kolay ve GraphQL'den bile bazÄ± noktalarda Ã¼stÃ¼n olan _GROQ_ adlÄ± sorgu dilini kullanÄ±yor. Sanity takÄ±mÄ±nÄ±n in-house bir Ã§Ã¶zÃ¼mÃ¼ olan bu sorgu diline ilk baÅŸlarda alÄ±ÅŸmasÄ± zor olsa da mÃ¼kemmel bir slack kanallarÄ± var. ğŸ˜

Ã–rnek bir sorgu gÃ¶stermek gerekirse ğŸ‘‡

```js
*[_type=="author"]{
  name,
  image,
  slug,
  _id,
  bio
}
```

BÃ¼tÃ¼n bunlarÄ±n yanÄ±nda Sanity Studio da mÃ¼ÅŸterinizi tatmin edecek dÃ¼zeyde bir arayÃ¼ze sahip diyebilirim. Her ne kadar bir Contentful kadar havalÄ± durmasa da bu arayÃ¼zÃ¼ dÃ¼zenlemek de bizim elimizde. En nihayetinde Sanity Studio da bir React uygulamasÄ±.`sanity start` komutu ile 3333 portunda ayaÄŸa kalkan studio'yu isterseniz Sanity'nin kendi hostingi Ã¼zerinde Ã¼cretsiz barÄ±ndÄ±rabilir isterseniz de kendiniz host edebilirsiniz.

![sanity studio](./studio.png)
